{"ast":null,"code":"var _jsxFileName = \"D:\\\\College Material\\\\Projects\\\\mood-buddy\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport Webcam from \"react-webcam\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [mood, setMood] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const webcamRef = useRef(null);\n  const moodQuestions = {\n    happy: \"You look happy! What made you smile today? ðŸ˜Š\",\n    sad: \"You seem a bit low. Want to share what's on your mind? ðŸ’™\",\n    angry: \"You look frustrated. What happened? ðŸ˜¤\",\n    surprised: \"You look surprised! Was it a good surprise? ðŸ˜®\",\n    neutral: \"How are you feeling inside right now? ðŸ˜¶\"\n  };\n\n  // TEMP: Random mood until AI vision added\n  const detectMood = () => {\n    const moods = [\"happy\", \"sad\", \"angry\", \"surprised\", \"neutral\"];\n    const randomMood = moods[Math.floor(Math.random() * moods.length)];\n    setMood(randomMood);\n    setMessages([{\n      sender: \"system\",\n      text: `Mood detected: ${randomMood.toUpperCase()}`\n    }, {\n      sender: \"bot\",\n      text: moodQuestions[randomMood]\n    }]);\n  };\n\n  // REAL AI MESSAGE HANDLER\n  const sendMessage = async () => {\n    if (!input.trim()) return;\n\n    // Add user's message\n    const updatedMessages = [...messages, {\n      sender: \"user\",\n      text: input\n    }];\n    setMessages(updatedMessages);\n    setInput(\"\");\n    try {\n      // Call backend AI\n      const response = await fetch(\"http://localhost:5000/chat\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          messages: updatedMessages,\n          mood: mood\n        })\n      });\n      const data = await response.json();\n\n      // Add AI response\n      setMessages(prev => [...prev, {\n        sender: \"bot\",\n        text: data.reply\n      }]);\n    } catch (error) {\n      console.error(\"AI Error:\", error);\n      setMessages(prev => [...prev, {\n        sender: \"bot\",\n        text: \"Sorry, I couldn't connect right now.\"\n      }]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"title\",\n      children: \"Mood Buddy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"subtitle\",\n      children: \"Your friendly emotional check-in buddy \\uD83D\\uDC9B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"layout\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your Camera\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"webcam-box\",\n          children: /*#__PURE__*/_jsxDEV(Webcam, {\n            ref: webcamRef,\n            screenshotFormat: \"image/jpeg\",\n            videoConstraints: {\n              facingMode: \"user\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"detect-btn\",\n          onClick: detectMood,\n          children: \"Detect Mood\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Conversation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-window\",\n          children: messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `bubble ${msg.sender}`,\n            children: msg.text\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Type your message...\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyDown: e => e.key === \"Enter\" && sendMessage()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"send-btn\",\n            onClick: sendMessage,\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Dr3skAVV6vN8/OU0LE7ScExw6sM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","Webcam","jsxDEV","_jsxDEV","App","_s","mood","setMood","messages","setMessages","input","setInput","webcamRef","moodQuestions","happy","sad","angry","surprised","neutral","detectMood","moods","randomMood","Math","floor","random","length","sender","text","toUpperCase","sendMessage","trim","updatedMessages","response","fetch","method","headers","body","JSON","stringify","data","json","prev","reply","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","screenshotFormat","videoConstraints","facingMode","onClick","map","msg","i","type","placeholder","value","onChange","e","target","onKeyDown","key","_c","$RefreshReg$"],"sources":["D:/College Material/Projects/mood-buddy/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport Webcam from \"react-webcam\";\nimport \"./App.css\";\n\nfunction App() {\n  const [mood, setMood] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const webcamRef = useRef(null);\n\n  const moodQuestions = {\n    happy: \"You look happy! What made you smile today? ðŸ˜Š\",\n    sad: \"You seem a bit low. Want to share what's on your mind? ðŸ’™\",\n    angry: \"You look frustrated. What happened? ðŸ˜¤\",\n    surprised: \"You look surprised! Was it a good surprise? ðŸ˜®\",\n    neutral: \"How are you feeling inside right now? ðŸ˜¶\"\n  };\n\n  // TEMP: Random mood until AI vision added\n  const detectMood = () => {\n    const moods = [\"happy\", \"sad\", \"angry\", \"surprised\", \"neutral\"];\n    const randomMood = moods[Math.floor(Math.random() * moods.length)];\n\n    setMood(randomMood);\n\n    setMessages([\n      { sender: \"system\", text: `Mood detected: ${randomMood.toUpperCase()}` },\n      { sender: \"bot\", text: moodQuestions[randomMood] }\n    ]);\n  };\n\n  // REAL AI MESSAGE HANDLER\n  const sendMessage = async () => {\n    if (!input.trim()) return;\n\n    // Add user's message\n    const updatedMessages = [...messages, { sender: \"user\", text: input }];\n    setMessages(updatedMessages);\n    setInput(\"\");\n\n    try {\n      // Call backend AI\n      const response = await fetch(\"http://localhost:5000/chat\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          messages: updatedMessages,\n          mood: mood\n        })\n      });\n\n      const data = await response.json();\n\n      // Add AI response\n      setMessages(prev => [...prev, { sender: \"bot\", text: data.reply }]);\n\n    } catch (error) {\n      console.error(\"AI Error:\", error);\n      setMessages(prev => [\n        ...prev,\n        { sender: \"bot\", text: \"Sorry, I couldn't connect right now.\" }\n      ]);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"title\">Mood Buddy</h1>\n      <p className=\"subtitle\">Your friendly emotional check-in buddy ðŸ’›</p>\n\n      <div className=\"layout\">\n\n        {/* LEFT: CAMERA */}\n        <div className=\"left-panel\">\n          <h2>Your Camera</h2>\n\n          <div className=\"webcam-box\">\n            <Webcam\n              ref={webcamRef}\n              screenshotFormat=\"image/jpeg\"\n              videoConstraints={{ facingMode: \"user\" }}\n            />\n          </div>\n\n          <button className=\"detect-btn\" onClick={detectMood}>Detect Mood</button>\n        </div>\n\n        {/* RIGHT: CHAT */}\n        <div className=\"right-panel\">\n          <h2>Conversation</h2>\n\n          <div className=\"chat-window\">\n            {messages.map((msg, i) => (\n              <div key={i} className={`bubble ${msg.sender}`}>\n                {msg.text}\n              </div>\n            ))}\n          </div>\n\n          <div className=\"input-row\">\n            <input\n              type=\"text\"\n              placeholder=\"Type your message...\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyDown={(e) => e.key === \"Enter\" && sendMessage()}\n            />\n            <button className=\"send-btn\" onClick={sendMessage}>Send</button>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}